@shift /0
@echo off
for /f "tokens=1-2 delims=:" %%a in ("%TIME%") do (
    title [ ETERNAL TWEAKER ^| %USERNAME% ^| Launched: %%a:%%b ] discord.gg/karoushi
)
CHCP 65001 >nul


::Disable UAC
Reg.exe ADD "HKLM\Software\Microsoft\Windows\CurrentVersion\Policies\System" /v "EnableLUA" /t REG_DWORD /d "0" /f > nul

:: Color Codes
set w=[97m
set c=[91m

:: Enable ANSI Escape Sequences
Reg.exe add "HKCU\CONSOLE" /v "VirtualTerminalLevel" /t REG_DWORD /d "1" /f  > nul
SETLOCAL ENABLEEXTENSIONS
SETLOCAL ENABLEDELAYEDEXPANSION
cls 
echo.
echo.
echo.
echo.
echo.
echo.
echo.
echo.
echo.
echo.
echo.
echo.
echo.
echo.
echo                                                      checking for admin.
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul

cls
echo.
echo.
echo.
echo.
echo.
echo.
echo.
echo.
echo.
echo.
echo.
echo.
echo.
echo.
echo                                                      checking for admin..

ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul

cls
echo.
echo.
echo.
echo.
echo.
echo.
echo.
echo.
echo.
echo.
echo.
echo.
echo.
echo.
echo                                                      checking for admin...

ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul

:: Getting Admin Permissions https://stackoverflow.com/questions/1894967/how-to-request-administrator-access-inside-a-batch-file
IF "%PROCESSOR_ARCHITECTURE%" EQU "amd64" (
>nul 2>&1 "%SYSTEMROOT%\SysWOW64\cacls.exe" "%SYSTEMROOT%\SysWOW64\config\system"
) ELSE (
>nul 2>&1 "%SYSTEMROOT%\system32\cacls.exe" "%SYSTEMROOT%\system32\config\system"
)

if '%errorlevel%' NEQ '0' (
    goto UACPrompt
) else ( goto GotAdmin )

:UACPrompt
    echo Set UAC = CreateObject^("Shell.Application"^) > "%temp%\getadmin.vbs"
    set params= %*
    echo UAC.ShellExecute "cmd.exe", "/c ""%~s0"" %params:"=""%", "", "runas", 1 >> "%temp%\getadmin.vbs"

    "%temp%\getadmin.vbs"
    del "%temp%\getadmin.vbs"
    exit /B

:GotAdmin
    pushd "%CD%"
    CD /D "%~dp0" 2>nul

endlocal


ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul
ping -n 1 127.0.0.1 >nul

:: Disable UAC
reg add "HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\Policies\System" /v "EnableLUA" /t REG_DWORD /d "0" /f >nul

::Extra Settings
set THREADS=%NUMBER_OF_PROCESSORS% > nul
for /f %%i in ('wmic path Win32_UserAccount where name^="%username%" get sid ^| findstr "S-"') do set "USER_SID=%%i"

goto eternal

:eternal
cls                                          
echo.
echo                                         %c%_.oo.%w%        ███████%c%╗%w%████████%c%╗%w%███████%c%╗%w%██████%c%╗ %w%███%c%╗  %w% ██%c%╗%w% █████%c%╗ %w%██%c%╗%w%
echo                  _.u[[[/;:,.         %c%.odMMMMMM'%w%      ██%c%╔════╝╚══%w%██%c%╔══╝%w%██%c%╔════╝%w%██%c%╔══%w%██%c%╗%w%████%c%╗ %w% ██%c%║%w%██%c%╔══%w%██%c%╗%w%██%c%║%w%
echo               .o8888UU[[[/;:-.  %c%.o@P^^    MMM^^%w%        █████%c%╗%w%     ██%c%║%w%   █████%c%╗%w%  ██████%c%╔╝%w%██%c%╔%w%██%c%╗ %w%██%c%║%w%███████%c%║%w%██%c%║%w%
echo              oN888888UU[[[/;::-.        %c%dP^^%w%          ██%c%╔══╝%w%     ██%c%║%w%   ██%c%╔══╝%w%  ██%c%╔══%w%██%c%╗%w%██%c%║╚%w%██%c%╗%w%██%c%║%w%██%c%╔══%w%██%c%║%w%██%c%║%w%
echo             dNMMNN8888UU[[[/;:--.   %c%.o@P^^%w%            ███████%c%╗%w%   ██%c%║%w%   ███████%c%╗%w%██%c%║  %w%██%c%║%w%██%c%║ ╚%w%████%c%║%w%██%c%║%w%  ██%c%║%w%███████%c%╗%w%
echo            ,MMMMMMN8888UU[[/;::-. %c%o@^^%w%                %w%%c%╚══════╝%c%   %c%╚═╝%c%   %c%╚══════╝%c%╚═╝  ╚═╝╚═╝  ╚═══╝╚═╝  ╚═╝╚══════╝%w%
echo            NNMMMNN8888UU[[[/~.%c%o@P^^%w%                  
echo            8888888888UU[[[/%c%o@^%w%-..                    
echo           oI88888UU[[[/%c%o@P^%w%:--..                     
echo        %c%.@^%w%  YUUU[[[[/%c%o@^%w%;::---..                          %c%[%w%1%c%]%w% General                        %c%[%w%2%c%]%w% Debloat
echo      %c%oMP%w%      ^/%c%o@P^%w%;:::----..                 
echo   %c%.dMMM%w%    %c%.o@^ ^%w%;::----...                               %c%[%w%3%c%]%w% Services                       %c%[%w%4%c%]%w% Network
echo  %c%dMMMMMMM@^`%w%       `^^^^^^                           
echo  %c%YMMMUP^^%w%                                            
echo.
echo.
echo.
echo.
echo.
echo.
echo.
echo.
echo.
echo.
set /p input=%c% (%w%menu%c%@%w%eternal%c%)%w%-%w%%c%[%w%~%c%]%w% 
if /i %input% == 1 goto windows
if /i %input% == 2 goto debloat